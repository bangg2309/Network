package exam11;

import java.io.DataOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.util.ArrayList;
import java.util.List;

public class StudentManagement {
	private List<Student> students;

	public StudentManagement() {
		this.students = new ArrayList<>();
		List<Subject> subjects = new ArrayList<>();
		Subject s1 = new Subject("Toan", 10);
		Subject s2 = new Subject("Van", 9.5);
		subjects.add(s1);
		subjects.add(s2);
		Student st1 = new Student("Nguyen Van A", 1, subjects);
	}

	public static void writeTofile(String pathFile, List<Student> students) throws IOException {
		File file = new File(pathFile);
		if (!file.exists()) {
			file.createNewFile();
		}
		OutputStreamWriter writer = new OutputStreamWriter(new FileOutputStream(file), "UTF-8");
		for (Student student : students) {
			writer.write(student.getId());
			writer.write("\t");
			writer.write(student.getName());
			writer.write("\t");
			for (Subject subject : student.getSubject()) {
				writer.write(subject.getName());
				writer.write("\t");
				writer.write(Double.toString(subject.getScore()));
				writer.write("\t");
			}
		}
	}

}
